(()=>{"use strict";var e={388:(e,n,t)=>{t.r(n)},180:(e,n,t)=>{t.r(n)},610:(e,n,t)=>{t.r(n)},566:(e,n,t)=>{t.r(n)},946:(e,n,t)=>{t.r(n)},827:(e,n,t)=>{t.r(n)},76:(e,n,t)=>{t.r(n)},473:(e,n,t)=>{t.r(n)},373:(e,n,t)=>{t.r(n)},752:function(e,n,t){var s=this&&this.__awaiter||function(e,n,t,s){return new(t||(t=Promise))((function(i,a){function d(e){try{r(s.next(e))}catch(e){a(e)}}function o(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(d,o)}r((s=s.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.App=void 0;const i=t(229);t(277).renderingElements(),function(){const e=document.querySelector(".upstr"),n=document.querySelector(".downstr");e.classList.toggle("active"),setInterval((()=>{e.classList.toggle("active"),n.classList.toggle("active")}),3e3)}(),n.App=class{constructor(e){this.roorElement=e,this.game=new i.Game,this.roorElement.appendChild(this.game.element)}start(){return s(this,void 0,void 0,(function*(){const e=yield fetch("./images.json"),n=(yield e.json())[0],t=n.images.map((e=>`${n.category}/${e}`));this.game.newGame(t)}))}}},129:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.appFooter=void 0,t(388),n.appFooter=function(){const e=document.createElement("footer");e.classList.add("footer"),e.innerHTML="<h2>Cooler_2012</h2>",document.body.append(e)}},43:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.appHeader=void 0,t(180),n.appHeader=function(){const e=document.createElement("header");e.classList.add("header"),e.innerHTML='\n  <nav class="header__navbar">\n    <a href="#" class="logo">\n      <div class="upstr"><h2>MATCH</h2></div>\n      <div class="downstr"><h2>MATCH</h2></div>\n    </a>\n    <div class="about">\n        <a href="#about">\n          <div class="circle_about">\n              <h2>?</h2>\n          </div>\n          <p>About Game</p>\n        </a>\n    </div>\n    <div class="score">\n      <a href="#score">\n        <div class="circle_score">\n        </div>\n        <p>Best Score</p>\n      </a>\n    </div>\n    <div class="settings">\n      <a href="#settings">\n        <div class="circle_sett">\n        </div>\n        <p>Game Setting</p>\n      </a>\n    </div>\n    <div class="count__btn">\n        <button id="register__btn">\n            <a href="#"><p>Register New Player!</p></a>\n        </button>\n        <div class="header__img"></div>\n        <button class="header__user" id="start_game">\n            <a href="#"><p>Start Game!</p></a>\n        </button>\n    </div>\n  </nav>\n  ',document.body.append(e)}},560:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.appMain=void 0,n.appMain=function(){const e=document.createElement("main");e.classList.add("main"),e.id="app",document.body.append(e)}},222:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.aboutPage=void 0,t(610),n.aboutPage={selector:"about",template:'\n  <div class="wrap__about">\n    <div class="wrap__info">\n      <h2 class="title">How to play?</h2>\n      <div class="step_1">\n        <div class="num"><p>1</p></div>\n        <h2>Register new player in game!</h2>\n      </div>\n      <div class="step_2">\n        <div class="num"><p>2</p></div>\n        <h2>Configure your game settings!</h2>\n      </div>\n      <div class="step_3">\n        <div class="num"><p>3</p></div>\n        <h2>Start you new game! Remember  card positions and match it before times up!</h2>\n      </div>\n    </div>\n    <div class="wrap__prim">\n      <div class="form">\n          <h2>Regist new Player</h2>\n          <div class="name">\n            <h6>First Name</h6>\n            <h3>Alexandr</h3>\n          </div>\n          <div class="lastName">\n            <h6>Last Name</h6>\n            <h3>Kuleshov</h3>\n          </div>\n          <div class="mail">\n            <h6>Your email</h6>\n            <h3>Cool.er.af@gmail.com</h3>\n          </div>\n      </div>\n      <div class="btn">\n          <a href="#settings">\n              <div class="settings__logo"></div>\n              <h2>Settings</h2>\n          </a>\n      </div>\n    </div>\n  </div>\n  '}},343:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.scorePage=void 0,t(566),n.scorePage={selector:"score",template:'\n    <div class="score__page">\n      <h2>Score!!!!</h2>\n      <div class="user">\n          <span>1.</span>\n          <div class="list">\n              <h4>Иванов Иван Иванович</h4>\n          </div>\n          <span>Score:756</span>\n      </div>\n      <div class="user">\n          <span>2.</span>\n          <div class="list">\n              <h4>Смирнов Николай Семенович</h4>\n          </div>\n          <span>Score:726</span>\n      </div>\n      <div class="user">\n        <span>3.</span>\n        <div class="list">\n              <h4>Вечерний Ургант Иванович</h4>\n          </div>\n          <span>Score:676</span>\n      </div>\n      <div class="user">\n        <span>4.</span>\n        <div class="list">\n              <h4>Нервозный Петр Дмитриевич</h4>\n          </div>\n          <span>Score:656</span>\n      </div>\n      <div class="user">\n        <span>5.</span>\n        <div class="list">\n              <h4>Степкин Игорь Игоревич</h4>\n          </div>\n          <span>Score:596</span>\n      </div>\n      <div class="user">\n          <span>6.</span>\n          <div class="list">\n              <h4>Пупыркина Кристина Эдуардовна</h4>\n          </div>\n          <span>Score:576</span>\n      </div>\n      <div class="user">\n        <span>7.</span>\n        <div class="list">\n              <h4>Мельник Екатерина Владимировна</h4>\n          </div>\n          <span>Score:561</span>\n      </div>\n      <div class="user">\n        <span>8.</span>\n        <div class="list">\n              <h4>Вабла Галя Васильевна</h4>\n          </div>\n          <span>Score:492</span>\n      </div>\n      <div class="user">\n        <span>9.</span>\n        <div class="list">\n              <h4>Треска Алла Леонидовна</h4>\n          </div>\n          <span>Score:456</span>\n      </div>\n      <div class="user">\n        <span>10.</span>\n        <div class="list">\n              <h4>Морж Рыба Тюленьевна</h4>\n        </div>\n        <span>Score:431</span>\n      </div>\n    </div>\n  '}},634:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.settingsPage=void 0,t(946),n.settingsPage={selector:"settings",template:'\n  <div class="settings__page">\n    <form>\n      <label>Game Cards:  </label>\n      <select name="cardstype" id="cooler">\n          <option value="unsorted">Unsorted</option>\n          <option value="funny">Funny</option>\n      </select>\n    </form>\n    <form>\n      <label>Difficulty:  </label>\n      <select name="difficulty" class="difficulty" id="difficulty">\n          <option value="Hard">Hard</option>\n          <option value="Middle">Middle</option>\n          <option value="Low">Low</option>\n      </select>\n    </form>\n  </div>'}},809:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.register=void 0,t(827);const s=t(83);n.register=function(){var e;const n=document.createElement("div");n.classList.add("register__count"),document.body.append(n),n.innerHTML='\n  <div class="register__form">\n      <h2>Register New Player!</h2>\n      <div class="iput__info">\n        <input type="text" id="input_name" class="input_name invalid" maxlength="30"\n        placeholder="name" required>\n        <input type="text" class="input_last_name invalid" maxlength="30"\n        placeholder="last name" required>\n        <input type="email" class="input_email invalid" maxlength="30"\n        placeholder="email" required>\n      </div>\n      <div class="btns">\n        <button class="start" disabled>Let\'s Start!</button>\n        <button id="cancel">Cancel</button>\n      </div>\n  </div>\n  ',null===(e=document.querySelector(".start"))||void 0===e||e.addEventListener("click",(()=>{const e=document.querySelector(".register__count"),n=document.getElementById("register__btn"),t=document.querySelector(".header__img"),s=document.getElementById("start_game");e.style.display="none",n.style.display="none",t.style.display="block",s.style.display="block"})),s.validation()}},277:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.obj=n.router=n.renderingElements=n.routes=void 0;const s=t(43),i=t(560),a=t(129),d=t(222),o=t(343),r=t(634);n.routes=[{path:"about",component:d.aboutPage},{path:"score",component:o.scorePage},{path:"settings",component:r.settingsPage}],n.renderingElements=function(){s.appHeader(),i.appMain(),a.appFooter()},n.router={getUrl(){let e=window.location.hash;return e=e.slice(1),e}},n.obj={val:"Hard"},window.addEventListener("hashchange",(()=>{if(function(){const e=n.router.getUrl(),t=n.routes.find((n=>n.path===e));document.getElementById("app").innerHTML=`<${t.component.selector} class = 'component'>  </${t.component.selector}>`,document.querySelector(".component").innerHTML=`${t.component.template}`}(),"#settings"===document.location.hash){const e=document.querySelector(".difficulty");e.addEventListener("change",(()=>{n.obj.val=e.value}))}}))},83:(e,n)=>{let t,s,i;Object.defineProperty(n,"__esModule",{value:!0}),n.validation=void 0,n.validation=function(){const e=document.querySelector(".start"),n=document.querySelector(".input_name"),a=document.querySelector(".input_last_name"),d=document.querySelector(".input_email");n.addEventListener("input",(()=>{const{value:a}=n;new RegExp("^[a-z A-Z а-я А-Я]*$").test(a)?(t=!0,n.classList.remove("invalid"),n.classList.add("valid")):(t=!1,n.classList.add("invalid")),e.disabled=!(t&&s&&i)})),a.addEventListener("input",(()=>{const{value:n}=a;new RegExp("^[a-z A-Z а-я А-Я]*$").test(n)?(s=!0,a.classList.remove("invalid"),a.classList.add("valid")):(s=!1,a.classList.add("invalid")),e.disabled=!(t&&s&&i)})),d.addEventListener("input",(()=>{const{value:n}=d;new RegExp("^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$").test(n)?(i=!0,d.classList.remove("invalid"),d.classList.add("valid")):(i=!1,d.classList.add("invalid")),e.disabled=!(t&&s&&i)}))}},403:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseComponent=void 0,n.BaseComponent=class{constructor(e="div",n=[]){this.element=document.createElement(e),this.element.classList.add(...n)}}},977:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Card=void 0,t(76);const s=t(403);class i extends s.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.flip=(e=!1)=>new Promise((n=>{this.element.classList.toggle("flipped",!e),this.element.addEventListener("transitionend",(()=>n()),{once:!0})})),this.element.innerHTML=`\n        <div class="card">\n            <div class="card__front" style= "background-image: url('./images/${e}')"></div>\n            <div class="card__back"></div>\n        </div>\n        `}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}}n.Card=i},461:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CardsField=void 0,t(473);const s=t(403),i=t(60);class a extends s.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML=""}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),setTimeout((()=>{this.cards.forEach((e=>e.flipToBack()))}),i.SHOW_TIME*i.delayCoup)}}n.CardsField=a},229:function(e,n,t){var s=this&&this.__awaiter||function(e,n,t,s){return new(t||(t=Promise))((function(i,a){function d(e){try{r(s.next(e))}catch(e){a(e)}}function o(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(d,o)}r((s=s.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;const i=t(680),a=t(403),d=t(977),o=t(461),r=t(277),l=t(60);class c extends a.BaseComponent{constructor(){super(),this.isAnimation=!1,this.cardsField=new o.CardsField,this.element.appendChild(this.cardsField.element)}newGame(e){switch(this.cardsField.clear(),r.obj.val){case"Low":e.length=8;break;case"Middle":e.length=16;break;default:e.length=32}const n=e.concat(e).map((e=>new d.Card(e))).sort((()=>Math.random()-.5));n.forEach((e=>{e.element.addEventListener("click",(()=>this.cardHandler(e)))})),this.cardsField.addCards(n)}cardHandler(e){return s(this,void 0,void 0,(function*(){if(!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);this.activeCard.image!==e.image&&(yield i.delay(l.FLIP_DELAY),yield Promise.all([this.activeCard.flipToBack(),e.flipToBack()])),this.activeCard=void 0,this.isAnimation=!1}}))}}n.Game=c},60:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FLIP_DELAY=n.delayCoup=n.SHOW_TIME=void 0,n.SHOW_TIME=1,n.delayCoup=100,n.FLIP_DELAY=1500},680:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.delay=void 0,n.delay=e=>new Promise((n=>{setTimeout(n,e)}))}},n={};function t(s){var i=n[s];if(void 0!==i)return i.exports;var a=n[s]={exports:{}};return e[s].call(a.exports,a,a.exports,t),a.exports}t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{t(373);const e=t(752),n=t(222),s=t(809),i=document.getElementById("app"),a=document.getElementById("register__btn"),d=document.getElementById("start_game");window.onload=()=>{i.innerHTML='\n  <about id="about"></about>\n  ',document.getElementById("about").innerHTML=`${n.aboutPage.template}`},null==a||a.addEventListener("click",(()=>{i.innerHTML="",new e.App(i).start()})),null==d||d.addEventListener("click",(()=>{i.innerHTML="",new e.App(i).start()})),null==a||a.addEventListener("click",s.register)})()})();